#include <iostream>
#include <vector>

using namespace std;

const int BOARD_SIZE = 3;

// Функція для виведення ігрового поля
void вивестиПоле(const vector<vector<char>>& поле) {
    cout << "  0 1 2\n";
    for (int рядок = 0; рядок < BOARD_SIZE; ++рядок) {
        cout << рядок << " ";
        for (int стовпець = 0; стовпець < BOARD_SIZE; ++стовпець) {
            cout << поле[рядок][стовпець] << " ";
        }
        cout << "\n";
    }
}

// Функція для перевірки можливості руху
bool можливийРух(const vector<vector<char>>& поле, int рядок, int стовпець) {
    return поле[рядок][стовпець] == ' ';
}

// Функція для перевірки перемоги
bool перемога(const vector<vector<char>>& поле, char знак) {
    // Перевірка по рядках та стовпцям
    for (int i = 0; i < BOARD_SIZE; ++i) {
        if (поле[i][0] == знак && поле[i][1] == знак && поле[i][2] == знак)
            return true;
        if (поле[0][i] == знак && поле[1][i] == знак && поле[2][i] == знак)
            return true;
    }

    // Перевірка діагоналей
    if (поле[0][0] == знак && поле[1][1] == знак && поле[2][2] == знак)
        return true;
    if (поле[0][2] == знак && поле[1][1] == знак && поле[2][0] == знак)
        return true;

    return false;
}

int main() {
    vector<vector<char>> поле(BOARD_SIZE, vector<char>(BOARD_SIZE, ' '));
    int рядок, стовпець;
    char поточнийГравець = 'X';

    do {
        вивестиПоле(поле);

        // Введення руху гравця
        cout << "Гравець " << поточнийГравець << ", введіть рядок та стовпець (через пробіл): ";
        cin >> рядок >> стовпець;

        // Перевірка правильності введення та можливості руху
        if (рядок >= 0 && рядок < BOARD_SIZE && стовпець >= 0 && стовпець < BOARD_SIZE &&
            можливийРух(поле, рядок, стовпець)) {
            поле[рядок][стовпець] = поточнийГравець;

            // Перевірка перемоги
            if (перемога(поле, поточнийГравець)) {
                вивестиПоле(поле);
                cout << "Гравець " << поточнийГравець << " переміг!\n";
                break;
            } else {
                // Зміна гравця
                поточнийГравець = (поточнийГравець == 'X') ? 'O' : 'X';
            }
        } else {
            cout << "Некоректний хід. Спробуйте ще раз.\n";
        }

    } while (true);

    return 0;
}
